(()=>{"use strict";const t=function(){function t(t,e){void 0===e&&(e=[]),this.id=Date.now(),this.title=t,this.todos=e}return t.prototype.addTodo=function(t){this.todos.push(t)},t.prototype.removeTodo=function(t){this.todos=this.todos.filter((function(e){return e.id!==t}))},t.prototype.getTodo=function(t){return this.todos.find((function(e){return e.id===t}))},t.prototype.getTodos=function(){return this.todos},t}();var e;!function(t){t[t.high=1]="high",t[t.medium=2]="medium",t[t.low=3]="low"}(e||(e={}));const n=function(){function t(t,e,n,o){this.id=Date.now(),this.title=t,this.description=e,this.dueDate=n,this.priority=o}return t.prototype.update=function(t){var e=t.title,n=t.description,o=t.dueDate,i=t.priority;e&&(this.title=e),n&&(this.description=n),o&&(this.dueDate=o),i&&(this.priority=i)},t}();var o,i=function(t){window.localStorage.setItem("data",JSON.stringify(t))},r=document.querySelector("#todos"),d=null===(o=r.parentNode)||void 0===o?void 0:o.querySelector("h1");const a=function(){function t(t,e){this.editHandler=t,this.deleteHandler=e,window.addEventListener("resize",(function(){for(var t=r.querySelectorAll(".todo"),e=0,n=Array.from(t);e<n.length;e++){var o=n[e];o.classList.contains("fullscreen")?o.style.height="auto":o.style.height=o.getBoundingClientRect().width+"px"}}))}return t.prototype.setTitle=function(t){d.textContent=t},t.prototype.add=function(t){var e=this,n=document.createElement("div");n.dataset.id=""+t.id,n.classList.add("todo"),n.classList.add("priority-"+t.priority);var o=document.createElement("h2");o.textContent=t.title;var i=document.createElement("p");i.textContent=t.description;var d=document.createElement("div");d.classList.add("bottom");var a=document.createElement("div");a.classList.add("due-date"),a.textContent=t.dueDate;var c=document.createElement("div");c.classList.add("actions");var l=document.createElement("button"),s=document.createElement("span");s.classList.add("material-icons"),s.innerHTML="create",l.appendChild(s);var u=document.createElement("button"),p=document.createElement("span");p.classList.add("material-icons"),p.innerHTML="delete",u.appendChild(p);var v=document.createElement("button"),f=document.createElement("span");v.classList.add("todo-close"),f.classList.add("material-icons"),f.innerHTML="close",v.appendChild(f),c.appendChild(l),c.appendChild(u),d.appendChild(a),d.appendChild(c),n.appendChild(v),n.appendChild(o),n.appendChild(i),n.appendChild(d),n.addEventListener("click",(function(){return n.classList.add("fullscreen")})),l.addEventListener("click",(function(n){n.stopPropagation(),e.editHandler(t)})),u.addEventListener("click",(function(n){n.stopPropagation(),e.deleteHandler(t)})),v.addEventListener("click",(function(t){t.stopPropagation(),n.classList.remove("fullscreen")})),r.appendChild(n),n.offsetTop,n.style.height=n.getBoundingClientRect().width+"px"},t.prototype.update=function(t){var e=r.querySelector('.todo[data-id="'+t.id+'"]');if(e){for(var n=1;n<=3;n+=1)e.classList.remove("priority-"+n);e.classList.add("priority-"+t.priority),e.querySelector("h2").textContent=t.title,e.querySelector("p").textContent=t.description,e.querySelector(".due-date").textContent=t.dueDate}},t.prototype.remove=function(t){var e=r.querySelector('.todo[data-id="'+t+'"]');return!!e&&(e.remove(),!0)},t.prototype.clear=function(){r.innerHTML=""},t}();var c=document.querySelector("#projects");const l=function(){function t(t,e){this.clickHandler=t,this.removeHandler=e}return t.prototype.add=function(t){var e=this,n=document.createElement("div");n.classList.add("project"),n.textContent=t.title,n.addEventListener("click",(function(){return e.clickHandler(t)})),n.dataset.id=""+t.id;var o=document.createElement("span");o.classList.add("material-icons"),o.innerHTML="close",o.addEventListener("click",(function(n){n.stopPropagation(),e.removeHandler(t)})),n.appendChild(o),c.appendChild(n)},t.prototype.remove=function(t){var e=c.querySelector('.project[data-id="'+t+'"]');return!!e&&(e.remove(),!0)},t.prototype.setActive=function(t){for(var e=0,n=Array.from(c.querySelectorAll(".project"));e<n.length;e++)n[e].classList.remove("active");var o=c.querySelector('.project[data-id="'+t+'"');o&&o.classList.add("active")},t}();var s=document.querySelector(".todo-form-outer"),u=s.querySelector(".todo-form-inner"),p=document.querySelector("#todo-form"),v=s.querySelector("h2"),f=p.querySelector("#todo-title"),h=p.querySelector("#todo-description"),m=p.querySelector("#todo-due-date"),y=p.querySelectorAll('[name="priority"]');const L=function(){function t(t,e){var n=this;this.submitHandler=t,this.closeHandler=e,this.handleSubmit(),s.addEventListener("click",(function(){return n.hide()})),u.addEventListener("click",(function(t){return t.stopPropagation()})),this.updateTitle("Add Note")}return t.prototype.fill=function(t){f.value=t.title,h.value=t.description,m.value=t.dueDate,y[t.priority-1].checked=!0},t.prototype.clear=function(){f.value="",h.value="",m.value="",y[0].checked=!0},t.prototype.updateTitle=function(t){v.innerHTML=t},t.prototype.show=function(){s.classList.add("shown")},t.prototype.hide=function(){s.classList.remove("shown"),this.closeHandler()},t.prototype.handleSubmit=function(){var t=this;p.addEventListener("submit",(function(e){e.preventDefault(),t.submitHandler({title:f.value.trim(),description:h.value.trim(),dueDate:m.value.trim(),priority:+Array.from(y).find((function(t){return t.checked})).value}),t.clear()}))},t}();var g=document.querySelector("#project-form"),S=g.querySelector("#project-title");const w=function(){function t(t){this.submitHandler=t,this.handleSubmit()}return t.prototype.clear=function(){S.value=""},t.prototype.handleSubmit=function(){var t=this;g.addEventListener("submit",(function(e){e.preventDefault(),t.submitHandler({title:S.value.trim()}),t.clear()}))},t}();var E=document.querySelector("#hamburger"),q=document.querySelector("nav");E.addEventListener("click",(function(){q.classList.toggle("open"),E.classList.toggle("open")}));var C=document.querySelector("#add-todo"),T=null,H=null,b=function(){for(var e=window.localStorage.getItem("data")||"[]",o=[],r=0,d=JSON.parse(e);r<d.length;r++){var a=d[r],c=new t(a.title);c.id=a.id,o.push(c);for(var l=0,s=a.todos;l<s.length;l++){var u=s[l],p=u.id,v=u.title,f=u.description,h=u.dueDate,m=u.priority,y=new n(v,f,h,m);y.id=p,c.addTodo(y)}}return 0===o.length&&(o.push(new t("Default")),i(o)),o}();C.addEventListener("click",(function(){k.show(),k.updateTitle("Add Todo")}));var k=new L((function(t){var e=t.title,o=t.description,r=t.dueDate,d=t.priority;if(H)H.update({title:e,description:o,dueDate:r,priority:d}),D.update(H),H=null;else{var a=new n(e,o,r,d);T&&(D.add(a),T.addTodo(a))}k.hide(),i(b)}),(function(){H=null,k.clear()})),D=new a((function(t){k.fill(t),H=t,k.updateTitle("Edit Todo"),k.show(),i(b)}),(function(t){T&&(D.remove(t.id),T.removeTodo(t.id),i(b))})),x=new l((function(t){if(!T||t.id!==T.id){T=t,D.setTitle(t.title),D.clear(),x.setActive(t.id);for(var e=0,n=t.getTodos();e<n.length;e++){var o=n[e];D.add(o)}C.classList.add("shown")}}),(function(t){T&&T.id===t.id&&(T=null,C.classList.remove("shown"),D.clear(),D.setTitle("")),b=b.filter((function(e){return e.id!==t.id})),i(b),x.remove(t.id)}));new w((function(e){var n=e.title,o=new t(n);x.add(o),b.push(o),i(b)}));for(var A=0,j=b;A<j.length;A++){var M=j[A];x.add(M)}})();
//# sourceMappingURL=36c17bb48b8ebaf9d14c_bundle.js.map